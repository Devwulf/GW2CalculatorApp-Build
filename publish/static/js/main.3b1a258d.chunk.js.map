{"version":3,"sources":["logo.svg","components/Price.tsx","utils/ItemField.ts","components/ItemComparisonSlot.tsx","utils/HistoryTimespan.ts","components/ListSortingBar.tsx","dataContracts/HistoryItemQuery.ts","dataContracts/HistoryItem.ts","dataContracts/PricedItem.ts","environment.ts","services/ApiService.ts","utils/ItemRarity.ts","utils/ItemType.ts","services/LocalDB.ts","pages/MyList.tsx","pages/Dashboard.tsx","components/ItemSummarySlot.tsx","dataContracts/ItemQuery.ts","components/SortingBar.tsx","pages/GeneralSearch.tsx","open-id-config.ts","components/Header.tsx","components/ItemListSlot.tsx","components/Sidebar.tsx","App.tsx","serviceWorker.ts","index.tsx"],"names":["module","exports","Price","props","state","this","price","priceColor","isNegative","absPrice","Math","abs","gold","floor","silver","copper","className","id","icon","style","fontSize","src","alt","React","Component","defaultProps","ItemField","ItemFieldSort","ItemComparisonSlot","amount","item","deleteItem","revenue","round","SellPrice","expenditure","BuyPrice","totalFees","netProfit","Icon","Name","htmlFor","type","defaultValue","onChange","event","value","parseInt","target","console","log","isNaN","setState","Appeal","toFixed","Margin","Sold","Bought","onClick","Id","HistoryTimespan","ListSortingBar","sortBy","sortDirection","Descending","searchStr","onSort","bind","onSortDirection","newDirection","Ascending","name","items","children","isSortAscending","sortedItems","sort","a","b","toLowerCase","localeCompare","Buys","Sells","onSubmit","preventDefault","padding","HistoryItemQuery","newest","toString","HistoryItemPrices","history","History","HistoryItemFactory","ChatLink","chatLink","Description","description","Type","Rarity","rarity","Level","level","e","arr","forEach","itemResult","ToHistoryItem","push","PricedItemFactory","buyPrice","sellPrice","parseFloat","appeal","margin","sold","bought","ToPricedItem","environment","urls","authority","host","gw2calculator","accessToken","query","pageNumber","url","URLSearchParams","toObject","ApiService","Get","response","json","result","ok","ToPricedItems","ids","Post","queries","ToHistoryItems","itemLists","itemList","itemIds","idNum","listId","itemId","fetch","method","mode","cache","headers","body","JSON","stringify","undefined","ItemRarity","ItemType","historyItemPrices","version","stores","open","catch","error","table","mapToClass","timespan","get","OneWeek","now","Date","OneHour","SixHours","TwelveHours","OneDay","ThreeDays","timeFromNow","setDate","getTime","getDate","time","getHistoryItemPrices","newHistory","newItem","add","unshift","update","currentPrices","weekFromNow","Dexie","MyList","user","updateId","setTimespan","getItems","GetItemList","access_token","historyItemQueries","i","length","LocalDB","getNewestTime","GetHistoryItems","historyItems","pricedItems","deleteOldPrices","setHistoryItemPrices","prices","pricedItem","newestPrice","sumSold","sumBought","avgSold","avgBought","DeleteListItem","tempItems","itemIndex","findIndex","splice","Consumer","oidcUser","noScrollX","height","map","index","key","Dashboard","ItemSummarySlot","isDragging","isAdding","onDragStart","onDragEnd","onAdd","stopPropagation","dataTransfer","setData","prevState","draggable","top","left","ItemQuery","options","minLevel","maxLevel","minBuyPrice","maxBuyPrice","minSellPrice","maxSellPrice","All","valueOf","SortingBar","updateItems","onSearch","optionValues","GetItems","GeneralSearch","Weapon","Exotic","configuration","client_id","response_type","scope","automaticSilentRenew","loadUserInfo","redirect_uri","post_logout_redirect_uri","silent_redirect_uri","Header","boxShadow","zIndex","to","profile","logout","login","ItemListSlot","isHover","onDragEnter","onDragLeave","onDrop","getData","AddListItem","onDragOver","Sidebar","refreshItemLists","GetItemLists","width","MyListComponent","useParams","library","fas","App","callbackComponentOverride","logo","authenticating","path","exact","component","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","message"],"mappings":"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","file":"static/js/main.3b1a258d.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.ee7cd8ed.svg\";","import { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport React from \"react\";\r\n\r\nexport type PriceProps = {\r\n    price: number;\r\n    priceColor: string;\r\n}\r\n\r\nexport type PriceState = {\r\n\r\n}\r\n\r\nexport default class Price extends React.Component<PriceProps, PriceState> {\r\n\r\n    static defaultProps: PriceProps = {\r\n        price: 0,\r\n        priceColor: \"text-gray-200\"\r\n    }\r\n\r\n    constructor(props: PriceProps) {\r\n        super(props);\r\n\r\n        this.state = {\r\n\r\n        };\r\n    }\r\n\r\n    render() {\r\n        const { price, priceColor } = this.props;\r\n        const isNegative = price < 0;\r\n        const absPrice = Math.abs(price);\r\n\r\n        const gold = Math.floor(absPrice / 10000);\r\n        const silver = Math.floor(absPrice % 10000 / 100);\r\n        const copper = Math.floor(absPrice % 10000 % 100);\r\n\r\n        return (\r\n            <div className=\"flex flex-row\">\r\n                <div id=\"gold\" className=\"mr-1 flex flex-row items-center\">\r\n                    <FontAwesomeIcon icon=\"minus\" className={`${isNegative ? \"\" : \"hidden\"} ${priceColor} mr-1`} style={{fontSize: \"0.5rem\"}} />\r\n                    <img src=\"https://wiki.guildwars2.com/images/d/d1/Gold_coin.png\" alt=\"Gold Coin\" className=\"mr-1 w-4 h-4\"/>\r\n                    <span className={`text-sm ${priceColor}`}>{gold}</span>\r\n                </div>\r\n                <div id=\"silver\" className=\"mr-1 flex flex-row items-center\">\r\n                    <img src=\"https://wiki.guildwars2.com/images/3/3c/Silver_coin.png\" alt=\"Silver Coin\" className=\"mr-1 w-4 h-4\"/>\r\n                    <span className={`text-sm ${priceColor}`}>{silver}</span>\r\n                </div>\r\n                <div id=\"copper\" className=\"mr-1 flex flex-row items-center\">\r\n                    <img src=\"https://wiki.guildwars2.com/images/e/eb/Copper_coin.png\" alt=\"Copper Coin\" className=\"mr-1 w-4 h-4\"/>\r\n                    <span className={`text-sm ${priceColor}`}>{copper}</span>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}","export enum ItemField {\r\n    Name,\r\n    Buys,\r\n    Sells,\r\n    Appeal,\r\n    Margin,\r\n    Sold,\r\n    Bought\r\n}\r\n\r\nexport enum ItemFieldSort {\r\n    Ascending,\r\n    Descending  \r\n}","import { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport React from \"react\";\r\nimport { PricedItem } from \"../dataContracts/PricedItem\";\r\nimport ApiService from \"../services/ApiService\";\r\nimport Price from \"./Price\";\r\n\r\nexport type ItemComparisonSlotProps = {\r\n    item: PricedItem;\r\n    deleteItem(itemId: number): Promise<void>;\r\n}\r\n\r\nexport type ItemComparisonSlotState = {\r\n    amount: number;\r\n}\r\n\r\nexport default class ItemComparisonSlot extends React.Component<ItemComparisonSlotProps, ItemComparisonSlotState> {\r\n    constructor(props: ItemComparisonSlotProps) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            amount: 1\r\n        };\r\n\r\n        //this.getNetProfit = this.getNetProfit.bind(this);\r\n    }\r\n\r\n    /*\r\n    getNetProfit(): number {\r\n        const { item, amount } = this.state;\r\n\r\n        if (item == null)\r\n            return 0;\r\n\r\n        const revenue = Math.round(item.SellPrice * amount);\r\n        const expenditure = Math.round(item.BuyPrice * amount);\r\n        const totalFees = item.Fee * amount;\r\n        return revenue - expenditure - totalFees;\r\n    }\r\n    */\r\n    \r\n    render() {\r\n        const { item, deleteItem } = this.props;\r\n        const { amount } = this.state;\r\n\r\n        const revenue = Math.round(item.SellPrice * amount);\r\n        const expenditure = Math.round(item.BuyPrice * amount);\r\n        const fee = Math.round(item.SellPrice * 0.15);\r\n        const totalFees = fee * amount;\r\n        const netProfit = revenue - expenditure - totalFees;\r\n\r\n        // TODO: Amount is not sorting with items\r\n\r\n        return (\r\n            <div className=\"flex flex-row px-4 py-2 bg-gray-700\">\r\n                <div className=\"flex flex-row w-2/8 items-center mr-6\">\r\n                    <img src={item.Icon} alt={item.Name} className=\"mr-4 w-12 h-12\"/>\r\n                    <span className=\"italic text-gray-200\">{item.Name}</span>\r\n                </div>\r\n                <div className=\"flex flex-col xl:flex-row w-5/12 items-center\">\r\n                    <div className=\"flex flex-row xl:mr-4\">\r\n                        <div className=\"flex flex-col items-center mr-4\">\r\n                            <label htmlFor=\"\" className=\"text-sm mb-1 text-gray-500\">Amount</label>\r\n                            <input type=\"number\" className=\"w-16 px-1 text-sm bg-gray-600 text-gray-200\"\r\n                                defaultValue={1}\r\n                                onChange={event => {\r\n                                    const value: number = parseInt(event.target.value);\r\n                                    console.log(value);\r\n                                    if (value != null && !isNaN(value))\r\n                                        this.setState({amount: value});\r\n                                }} />\r\n                        </div>\r\n                        <div className=\"flex flex-col items-center\">\r\n                            <label htmlFor=\"\" className=\"text-sm mb-1 font-bold text-gray-500\">Net Profit</label>\r\n                            <Price price={netProfit} priceColor={`${ netProfit < 0 ? \"text-red-500\" : \"text-green-500\" }`} />\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"flex flex-row\">\r\n                        <div className=\"flex flex-col items-center mr-4\">\r\n                            <label htmlFor=\"\" className=\"text-sm mb-1 text-gray-500\">Buys</label>\r\n                            <Price price={expenditure} />\r\n                        </div>\r\n                        <div className=\"flex flex-col items-center mr-4\">\r\n                            <label htmlFor=\"\" className=\"text-sm mb-1 text-gray-500\">Sells</label>\r\n                            <Price price={revenue} />\r\n                        </div>\r\n                        <div className=\"flex flex-col items-center\">\r\n                            <label htmlFor=\"\" className=\"text-sm mb-1 text-gray-500\">Fees</label>\r\n                            <Price price={totalFees} />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"w-2/8\">\r\n                    <div className=\"flex flex-col xl:flex-row justify-evenly w-full h-full\">\r\n                        <div className=\"flex flex-row xl:flex-col items-center xl:mr-4\">\r\n                            <label htmlFor=\"\" className=\"text-sm mr-4 xl:mr-0 xl:mb-1 font-bold text-gray-500\">Appeal</label>\r\n                            <span className=\"text-gray-200\">{item.Appeal.toFixed(2)}</span>\r\n                        </div>\r\n                        <div className=\"flex flex-row xl:flex-col items-center xl:mr-4\">\r\n                            <label htmlFor=\"\" className=\"text-sm mr-4 xl:mr-0 xl:mb-1 text-gray-500\">Margin</label>\r\n                            <span className={item.Margin < 15 ? \"text-red-500\" : \"text-green-500\"}>{item.Margin.toFixed(2)}%</span>\r\n                        </div>\r\n                        <div className=\"flex flex-row xl:flex-col items-center xl:mr-4\">\r\n                            <label htmlFor=\"\" className=\"text-sm mr-4 xl:mr-0 xl:mb-1 text-gray-500\">Sold</label>\r\n                            <span className=\"text-gray-200\">{item.Sold.toFixed(2)}</span>\r\n                        </div>\r\n                        <div className=\"flex flex-row xl:flex-col items-center xl:mr-4\">\r\n                            <label htmlFor=\"\" className=\"text-sm mr-4 xl:mr-0 xl:mb-1 text-gray-500\">Bought</label>\r\n                            <span className=\"text-gray-200\">{item.Bought.toFixed(2)}</span>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"flex flex-row w-1/12 items-center justify-center\">\r\n                    <button className=\"transition duration-150 ease-in-out px-3 py-1 rounded shadow-lg bg-red-700 text-red-300 hover:bg-red-800 hover:text-red-200\"\r\n                        onClick={() => deleteItem(item.Id)}>\r\n                        <FontAwesomeIcon icon=\"times\" />\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        );\r\n\r\n        /*\r\n        return (\r\n            <tr className=\"bg-gray-700\">\r\n                <td className=\"\">\r\n                    <div className=\"flex flex-row items-center\">\r\n                        <img src={item.Icon} alt={item.Name} className=\"mr-4 w-12 h-12\"/>\r\n                        <span className=\"italic\">{item.Name}</span>\r\n                    </div>\r\n                </td>\r\n                <td className=\"\">\r\n                    <div className=\"flex justify-center\">\r\n                        <Price price={item.BuyPrice} />\r\n                    </div>\r\n                </td>\r\n                <td className=\"\">\r\n                    <div className=\"flex justify-center\">\r\n                        <Price price={item.SellPrice} />\r\n                    </div>\r\n                </td>\r\n                <td className=\"\">\r\n                    <div className=\"flex justify-center\">\r\n                        <Price price={item.Fee} />\r\n                    </div>\r\n                </td>\r\n                <td className=\"\">\r\n                    <div className=\"text-center\">\r\n                        {item.AppealValue}\r\n                    </div>\r\n                </td>\r\n                <td className=\"\">\r\n                    <div className=\"text-center\">\r\n                        {item.Margin}\r\n                    </div>\r\n                </td>\r\n                <td className=\"\">\r\n                    <div className=\"text-center\">\r\n                        {item.TransactionRate}\r\n                    </div>\r\n                </td>\r\n            </tr>\r\n        );\r\n        */\r\n    }\r\n}","export enum HistoryTimespan {\r\n    OneHour,\r\n    SixHours,\r\n    TwelveHours,\r\n    OneDay,\r\n    ThreeDays,\r\n    OneWeek\r\n}","import { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport React from \"react\";\r\nimport { PricedItem } from \"../dataContracts/PricedItem\";\r\nimport { ItemField, ItemFieldSort } from \"../utils/ItemField\";\r\n\r\nexport type ListSortingBarProps = {\r\n    name: string;\r\n    items: PricedItem[];\r\n    children?: (sortedItems: PricedItem[]) => React.ReactNode | null;\r\n}\r\n\r\nexport type ListSortingBarState = {\r\n    sortBy: ItemField;\r\n    sortDirection: ItemFieldSort;\r\n    searchStr: string;\r\n}\r\n\r\nexport default class ListSortingBar extends React.Component<ListSortingBarProps, ListSortingBarState> {\r\n    constructor(props: ListSortingBarProps) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            sortBy: ItemField.Appeal,\r\n            sortDirection: ItemFieldSort.Descending,\r\n            searchStr: \"\"\r\n        };\r\n\r\n        this.onSort = this.onSort.bind(this);\r\n        this.onSortDirection = this.onSortDirection.bind(this);\r\n    }\r\n\r\n    private async onSort(event: React.ChangeEvent<HTMLSelectElement>) {\r\n        console.log(event.target.value);\r\n        console.log(event.target.value as keyof typeof ItemField);\r\n        const value: ItemField = parseInt(event.target.value) as ItemField;\r\n\r\n        this.setState({sortBy: value});\r\n    }\r\n\r\n    private async onSortDirection() {\r\n        const { sortDirection } = this.state;\r\n        const newDirection: ItemFieldSort = sortDirection === ItemFieldSort.Ascending ? ItemFieldSort.Descending : ItemFieldSort.Ascending;\r\n\r\n        this.setState({sortDirection: newDirection});\r\n    }\r\n\r\n    render() {\r\n        const { name, items, children } = this.props;\r\n        const { sortBy, sortDirection, searchStr } = this.state;\r\n\r\n        const isSortAscending: boolean = sortDirection === ItemFieldSort.Ascending;\r\n\r\n        const compareFunc: (a: PricedItem, b: PricedItem) => number = (a, b) => {\r\n            if (sortBy === ItemField.Name) {\r\n                if (isSortAscending)\r\n                    return a.Name.toLowerCase().localeCompare(b.Name.toLowerCase());\r\n                \r\n                return b.Name.toLowerCase().localeCompare(a.Name.toLowerCase());\r\n            }\r\n\r\n            if (sortBy === ItemField.Appeal) {\r\n                if (isSortAscending)\r\n                    return a.Appeal - b.Appeal;\r\n\r\n                return b.Appeal - a.Appeal;\r\n            }\r\n\r\n            if (sortBy === ItemField.Margin) {\r\n                if (isSortAscending)\r\n                    return a.Margin - b.Margin;\r\n\r\n                return b.Margin - a.Margin;\r\n            }\r\n\r\n            if (sortBy === ItemField.Sold) {\r\n                if (isSortAscending)\r\n                    return a.Sold - b.Sold;\r\n\r\n                return b.Sold - a.Sold;\r\n            }\r\n\r\n            if (sortBy === ItemField.Bought) {\r\n                if (isSortAscending)\r\n                    return a.Bought - b.Bought;\r\n\r\n                return b.Bought - a.Bought;\r\n            }\r\n\r\n            if (sortBy === ItemField.Buys) {\r\n                if (isSortAscending)\r\n                    return a.BuyPrice - b.BuyPrice;\r\n\r\n                return b.BuyPrice - a.BuyPrice;\r\n            }\r\n\r\n            if (sortBy === ItemField.Sells) {\r\n                if (isSortAscending)\r\n                    return a.SellPrice - b.SellPrice;\r\n\r\n                return b.SellPrice - a.SellPrice;\r\n            }\r\n\r\n            return 0;\r\n        };\r\n\r\n        const sortedItems: PricedItem[] = items.sort(compareFunc);\r\n\r\n        return(\r\n            <>\r\n                <div className=\"flex flex-row justify-between items-center px-4 py-2 mb-4 bg-gray-900 text-gray-500\">\r\n                    <span className=\"\">{name}</span>\r\n                    \r\n                    <div className=\"flex items-center\">\r\n                        <form className=\"flex flex-row mr-4\"\r\n                            onSubmit={event => event.preventDefault()}>\r\n                            <input type=\"text\" className=\"pl-2 rounded-l bg-gray-600 text-gray-200\"\r\n                                value={searchStr}\r\n                                onChange={event => this.setState({searchStr: event.target.value})} />\r\n                            <button className=\"flex items-center px-2 rounded-r bg-gray-700 text-gray-300\">\r\n                                <FontAwesomeIcon icon=\"search\" className=\"mr-1 text-xs\" />\r\n                                <span className=\"text-xs\">Search</span>\r\n                            </button>\r\n                        </form>\r\n                        <label htmlFor=\"\" className=\"mr-2 text-sm\">Sort By</label>\r\n                        <select name=\"\" id=\"\" className=\"pl-2 rounded-l h-6 text-sm bg-gray-700 text-gray-300\" \r\n                            value={sortBy} \r\n                            onChange={this.onSort}>\r\n                            <option value={ItemField.Name} className=\"\">{ItemField[ItemField.Name]}</option>\r\n                            <option value={ItemField.Buys} className=\"\">{ItemField[ItemField.Buys]}</option>\r\n                            <option value={ItemField.Sells} className=\"\">{ItemField[ItemField.Sells]}</option>\r\n                            <option value={ItemField.Appeal} className=\"\">{ItemField[ItemField.Appeal]}</option>\r\n                            <option value={ItemField.Margin} className=\"\">{ItemField[ItemField.Margin]}</option>\r\n                            <option value={ItemField.Sold} className=\"\">{ItemField[ItemField.Sold]}</option>\r\n                            <option value={ItemField.Bought} className=\"\">{ItemField[ItemField.Bought]}</option>\r\n                        </select>\r\n                        <button className=\"px-2 mr-4 rounded-r border-l border-gray-800 bg-gray-700 text-gray-300\"\r\n                            onClick={this.onSortDirection}>\r\n                            {(isSortAscending && sortBy !== ItemField.Name &&\r\n                                <FontAwesomeIcon icon=\"sort-numeric-up\" />\r\n                            ) ||\r\n                            (!isSortAscending && sortBy !== ItemField.Name &&\r\n                                <FontAwesomeIcon icon=\"sort-numeric-down-alt\" />\r\n                            ) ||\r\n                            (isSortAscending && sortBy === ItemField.Name &&\r\n                                <FontAwesomeIcon icon=\"sort-alpha-up\" />\r\n                            ) ||\r\n                            (!isSortAscending && sortBy === ItemField.Name &&\r\n                                <FontAwesomeIcon icon=\"sort-alpha-down-alt\" />\r\n                            )}\r\n                        </button>\r\n                        <button className=\"flex items-center rounded bg-gray-700 text-gray-300\" style={{padding: \"0.20rem 0.5rem\"}}>\r\n                            <FontAwesomeIcon icon=\"filter\" className=\"mr-1 text-xs\" />\r\n                            <span className=\"text-xs\">Filter</span>\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n                {children != null ? children(sortedItems): null}\r\n            </>\r\n        );\r\n    }\r\n}","export class HistoryItemQuery {\r\n    private id: number;\r\n    private newest: number;\r\n\r\n    constructor(id: number, newest?: number) {\r\n        this.id = id;\r\n        this.newest = newest ?? 0;\r\n    }\r\n\r\n    toObject(): { [key: string]: string } {\r\n        return {\r\n            id: this.id.toString(),\r\n            newest: this.newest.toString()\r\n        }\r\n    }\r\n}","import { ItemRarity } from \"../utils/ItemRarity\";\r\nimport { ItemType } from \"../utils/ItemType\";\r\nimport { ItemPriceSnapshot } from \"./ItemPriceSnapshot\";\r\n\r\nexport class HistoryItemPrices {\r\n    public readonly Id: number;\r\n    public readonly History: ItemPriceSnapshot[];\r\n\r\n    constructor(id: number, history: ItemPriceSnapshot[]) {\r\n        this.Id = id;\r\n        this.History = history;\r\n    }\r\n}\r\n\r\nexport type HistoryItem = {\r\n    Id: number;\r\n    ChatLink: string;\r\n    Name: string;\r\n    Icon: string;\r\n    Description: string;\r\n    Type: ItemType;\r\n    Rarity: ItemRarity;\r\n    Level: number;\r\n    History: ItemPriceSnapshot[];\r\n}\r\n\r\nexport class HistoryItemFactory {\r\n    static ToHistoryItem(item: any): HistoryItem | null {\r\n        try {\r\n            const result: HistoryItem = { \r\n                Id: item.id, \r\n                ChatLink: item.chatLink,\r\n                Name: item.name, \r\n                Icon: item.icon, \r\n                Description: item.description,\r\n                Type: parseInt(item.type),\r\n                Rarity: parseInt(item.rarity),\r\n                Level: item.level,\r\n\r\n                History: item.history,\r\n            };\r\n\r\n            return result;\r\n        } catch(e) {\r\n            console.log(e);\r\n            return null;\r\n        }\r\n    }\r\n\r\n    static ToHistoryItems(items: any): HistoryItem[] {\r\n        const arr: HistoryItem[] = [];\r\n        items.forEach((item: any) => {\r\n            const itemResult = HistoryItemFactory.ToHistoryItem(item);\r\n            if (itemResult != null)\r\n                arr.push(itemResult);\r\n        });\r\n\r\n        return arr;\r\n    }\r\n}","import { ItemRarity } from \"../utils/ItemRarity\";\r\nimport { ItemType } from \"../utils/ItemType\";\r\n\r\nexport type PricedItem = {\r\n    Id: number;\r\n    ChatLink: string;\r\n    Name: string;\r\n    Icon: string;\r\n    Description: string;\r\n    Type: ItemType;\r\n    Rarity: ItemRarity;\r\n    Level: number;\r\n\r\n    BuyPrice: number;\r\n    SellPrice: number;\r\n    Appeal: number;\r\n    Margin: number;\r\n    Sold: number;\r\n    Bought: number;\r\n}\r\n\r\nexport class PricedItemFactory {\r\n    static ToPricedItem(item: any): PricedItem | null {\r\n        try {\r\n            const result: PricedItem = { \r\n                Id: item.id, \r\n                ChatLink: item.chatLink,\r\n                Name: item.name, \r\n                Icon: item.icon, \r\n                Description: item.description,\r\n                Type: parseInt(item.type),\r\n                Rarity: parseInt(item.rarity),\r\n                Level: item.level,\r\n\r\n                BuyPrice: item.buyPrice,\r\n                SellPrice: item.sellPrice,\r\n                Appeal: parseFloat(parseFloat(item.appeal).toFixed(2)),\r\n                Margin: parseFloat(parseFloat(item.margin).toFixed(2)),\r\n                Sold: parseFloat(parseFloat(item.sold).toFixed(2)),\r\n                Bought: parseFloat(parseFloat(item.bought).toFixed(2))\r\n            };\r\n\r\n            return result;\r\n        } catch(e) {\r\n            console.log(e);\r\n            return null;\r\n        }\r\n    }\r\n\r\n    static ToPricedItems(items: any): PricedItem[] {\r\n        const arr: PricedItem[] = [];\r\n        items.forEach((item: any) => {\r\n            const itemResult = PricedItemFactory.ToPricedItem(item);\r\n            if (itemResult != null)\r\n                arr.push(itemResult);\r\n        });\r\n\r\n        return arr;\r\n    }\r\n}","const environment = {\r\n    urls: {\r\n        authority: \"https://auth.devwulfcodes.com\",\r\n        host: \"https://gw2.devwulfcodes.com\",\r\n        gw2calculator: \"https://gw2.devwulfcodes.com/api\"\r\n    }\r\n};\r\n\r\nexport default environment;","import { HistoryItem, HistoryItemFactory } from \"../dataContracts/HistoryItem\";\r\nimport { HistoryItemQuery } from \"../dataContracts/HistoryItemQuery\";\r\nimport { ItemList } from \"../dataContracts/ItemList\";\r\nimport { ItemQuery } from \"../dataContracts/ItemQuery\";\r\nimport { PricedItem, PricedItemFactory } from \"../dataContracts/PricedItem\";\r\nimport environment from \"../environment\";\r\n\r\nclass ApiService {\r\n    public async GetItems(accessToken: string, query: ItemQuery, pageNumber: number): Promise<PricedItem[] | null> {\r\n        const url = environment.urls.gw2calculator + \"/item/pricedItems?\" + new URLSearchParams(query.toObject()) + `&pageNumber=${pageNumber}`;\r\n        const response = await ApiService.Get(url, accessToken);\r\n        const result = await response.json();\r\n\r\n        if (response.ok)\r\n            return PricedItemFactory.ToPricedItems(result);\r\n\r\n        console.log(result);\r\n        return null;\r\n    }\r\n\r\n    public async GetItemsWithIds(accessToken: string, ids: number[], pageNumber: number): Promise<PricedItem[] | null> {\r\n        const url = environment.urls.gw2calculator + \"/item/pricedItems\";\r\n        const response = await ApiService.Post(url, accessToken, {ids, pageNumber});\r\n        const result = await response.json();\r\n\r\n        if (response.ok)\r\n            return PricedItemFactory.ToPricedItems(result);\r\n\r\n        console.log(result);\r\n        return null;\r\n    }\r\n\r\n    public async GetHistoryItems(accessToken: string, queries: HistoryItemQuery[]): Promise<HistoryItem[] | null> {\r\n        const url = environment.urls.gw2calculator + \"/item/historyItems\";\r\n        const response = await ApiService.Post(url, accessToken, queries);\r\n        const result = await response.json();\r\n\r\n        if (response.ok)\r\n            return HistoryItemFactory.ToHistoryItems(result);\r\n\r\n        console.log(result);\r\n        return null;\r\n    }\r\n\r\n    public async GetItemLists(accessToken: string) : Promise<ItemList[] | null> {\r\n        const url = environment.urls.gw2calculator + \"/list/getLists\";\r\n        const response = await ApiService.Get(url, accessToken);\r\n        const result = await response.json();\r\n\r\n        if (response.ok) {\r\n            const items = result.itemLists;\r\n            const itemLists: ItemList[] = [];\r\n            items.forEach((item: any) => {\r\n                const itemList: ItemList = {\r\n                    id: item.id,\r\n                    name: item.name\r\n                };\r\n                \r\n                itemLists.push(itemList);\r\n            });\r\n\r\n            return itemLists;\r\n        }\r\n\r\n        console.log(result);\r\n        return null;\r\n    }\r\n\r\n    public async GetItemList(accessToken: string, id: string) : Promise<number[] | null> {\r\n        const url = environment.urls.gw2calculator + \"/list/getList/\" + id;\r\n        const response = await ApiService.Get(url, accessToken);\r\n        const result = await response.json();\r\n\r\n        if (response.ok) {\r\n            const items = result.itemIds;\r\n            const itemIds: number[] = [];\r\n            items.forEach((id: any) => {\r\n                const idNum = parseInt(id);\r\n                itemIds.push(idNum);\r\n            });\r\n\r\n            return itemIds;\r\n        }\r\n\r\n        console.log(result);\r\n        return null;\r\n    }\r\n\r\n    public async CreateList(accessToken: string, name: string) : Promise<string | null> {\r\n        const url = environment.urls.gw2calculator + \"/list/createList\";\r\n        const response = await ApiService.Post(url, accessToken, {name});\r\n        const result = await response.json();\r\n\r\n        if (response.ok)\r\n            return result.listId;\r\n\r\n        console.log(result);\r\n        return null;\r\n    }\r\n\r\n    public async UpdateListName(accessToken: string, id: string, name: string) : Promise<boolean> {\r\n        const url = environment.urls.gw2calculator + \"/list/updateName\";\r\n        const response = await ApiService.Post(url, accessToken, {id, name});\r\n\r\n        if (response.ok)\r\n            return true;\r\n\r\n        const result = await response.json();\r\n        console.log(result);\r\n        return false;\r\n    }\r\n\r\n    public async AddListItem(accessToken: string, id: string, itemId: number) : Promise<boolean> {\r\n        const url = environment.urls.gw2calculator + \"/list/addItem\";\r\n        const response = await ApiService.Post(url, accessToken, {id, itemId});\r\n\r\n        if (response.ok)\r\n            return true;\r\n\r\n        const result = await response.json();\r\n        console.log(result);\r\n        return false;\r\n    }\r\n\r\n    public async DeleteListItem(accessToken: string, id: string, itemId: number) : Promise<boolean> {\r\n        const url = environment.urls.gw2calculator + \"/list/deleteItem\";\r\n        const response = await ApiService.Post(url, accessToken, {id, itemId});\r\n\r\n        if (response.ok)\r\n            return true;\r\n        \r\n        const result = await response.json();\r\n        console.log(result);\r\n        return false;\r\n    }\r\n\r\n    public async DeleteList(accessToken: string, id: string) : Promise<boolean> {\r\n        const url = environment.urls.gw2calculator + \"/list/deleteList\";\r\n        const response = await ApiService.Post(url, accessToken, {id});\r\n\r\n        if (response.ok)\r\n            return true;\r\n\r\n        const result = await response.json();\r\n        console.log(result);\r\n        return false;\r\n    }\r\n\r\n    private static async Get(url: string, accessToken: string) : Promise<Response> {\r\n        return fetch(url, {\r\n            method: \"GET\",\r\n            mode: \"cors\",\r\n            cache: \"no-cache\",\r\n            headers: {\r\n                \"Content-Type\": \"application/json\",\r\n                \"Authorization\": `Bearer ${accessToken}`\r\n            }\r\n        });\r\n    }\r\n\r\n    private static async Post(url: string, accessToken: string, body: any) : Promise<Response> {\r\n        return fetch(url, {\r\n            method: \"POST\",\r\n            mode: \"cors\",\r\n            cache: \"no-cache\",\r\n            headers: {\r\n                \"Content-Type\": \"application/json\",\r\n                \"Authorization\": `Bearer ${accessToken}`\r\n            },\r\n            body: body ? JSON.stringify(body) : undefined\r\n        });\r\n    }\r\n}\r\n\r\nexport default new ApiService();","export enum ItemRarity {\r\n    None = 0,\r\n    Junk = 1,\r\n    Basic = 2,\r\n    Fine = 4,\r\n    Masterwork = 8,\r\n    Rare = 16,\r\n    Exotic = 32,\r\n    Ascended = 64,\r\n    Legendary = 128,\r\n    All = 255\r\n}","export enum ItemType {\r\n    None = 0,\r\n    Armor = 1,\r\n    Back = 2,\r\n    Bag = 4,\r\n    Consumable = 8,\r\n    Container = 16,\r\n    CraftingMaterial = 32,\r\n    Gathering = 64,\r\n    Gizmo = 128,\r\n    Key = 256,\r\n    MiniPet = 512,\r\n    Tool = 1024,\r\n    Trait = 2048,\r\n    Trinket = 4096,\r\n    Trophy = 8192,\r\n    UpgradeComponent = 16384,\r\n    Weapon = 32768,\r\n    All = 65535\r\n}","import Dexie from \"dexie\";\r\nimport { HistoryItem, HistoryItemPrices } from \"../dataContracts/HistoryItem\";\r\nimport { ItemPriceSnapshot } from \"../dataContracts/ItemPriceSnapshot\";\r\nimport { HistoryTimespan } from \"../utils/HistoryTimespan\";\r\n\r\nclass LocalDB extends Dexie {\r\n    private historyItemPrices: Dexie.Table<HistoryItemPrices, number>;\r\n\r\n    constructor() {\r\n        super(\"GW2History\");\r\n\r\n        this.version(1).stores({\r\n            historyItemPrices: \"Id\"\r\n        });\r\n        this.open().catch(error => {\r\n            console.error(`Opening the db '${this.name}' failed: ${error}`);\r\n        });\r\n\r\n        this.historyItemPrices = this.table(\"historyItemPrices\");\r\n        this.historyItemPrices.mapToClass(HistoryItemPrices);\r\n    }\r\n\r\n    async getHistoryItemPrices(id: number, timespan: HistoryTimespan): Promise<ItemPriceSnapshot[] | null> {\r\n        const item = await this.historyItemPrices.get(id);\r\n        if (!item)\r\n            return null;\r\n        \r\n        if (timespan === HistoryTimespan.OneWeek)\r\n            return item.History;\r\n\r\n        let items: ItemPriceSnapshot[] = [];\r\n        const now = new Date();\r\n        let timeFromNow: number;\r\n        switch (timespan) {\r\n        case HistoryTimespan.OneHour:\r\n            timeFromNow = now.setDate(now.getTime() - (1 * 60 * 60 * 1000));\r\n            break;\r\n        case HistoryTimespan.SixHours:\r\n            timeFromNow = now.setDate(now.getTime() - (6 * 60 * 60 * 1000));\r\n            break;\r\n        case HistoryTimespan.TwelveHours:\r\n            timeFromNow = now.setDate(now.getTime() - (12 * 60 * 60 * 1000));\r\n            break;\r\n        case HistoryTimespan.OneDay:\r\n            timeFromNow = now.setDate(now.getDate() - 1);\r\n            break;\r\n        case HistoryTimespan.ThreeDays:\r\n            timeFromNow = now.setDate(now.getDate() - 3);\r\n            break;\r\n        default:\r\n            timeFromNow = now.setDate(now.getDate() - 7);\r\n            break;\r\n        }\r\n        \r\n        item.History.forEach(price => {\r\n            if (price.time >= timeFromNow)\r\n                items.push(price);\r\n        });\r\n\r\n        return items;\r\n    }\r\n\r\n    async getNewestTime(id: number): Promise<number> {\r\n        const history = await this.getHistoryItemPrices(id, HistoryTimespan.OneWeek);\r\n        if (!history)\r\n            return 0;\r\n        \r\n        return history[0].time;\r\n    }\r\n\r\n    async setHistoryItemPrices(id: number, newHistory: ItemPriceSnapshot[]) {\r\n        const item = await this.historyItemPrices.get(id);\r\n        if (!item) {\r\n            // If no item exists, just create a new item with the given id and history\r\n            const newItem = new HistoryItemPrices(id, newHistory);\r\n            await this.historyItemPrices.add(newItem, newItem.Id);\r\n\r\n            return;\r\n        }\r\n\r\n        // Else, update the history of the current item to include the new history\r\n        // Unshift (push to front) here because history is sorted by time descending,\r\n        // and the higher the time value, the newer it is.\r\n        item.History.unshift(...newHistory);\r\n        await this.historyItemPrices.update(id, {History: item.History});\r\n    }\r\n\r\n    async deleteOldPrices(id: number) {\r\n        const item = await this.historyItemPrices.get(id);\r\n        if (!item)\r\n            return;\r\n        \r\n        const currentPrices: ItemPriceSnapshot[] = [];\r\n        const now: Date = new Date();\r\n        const weekFromNow: number = now.setDate(now.getDate() - 7);\r\n        item.History.forEach(price => {\r\n            if (price.time >= weekFromNow)\r\n                currentPrices.push(price);\r\n        });\r\n\r\n        await this.historyItemPrices.update(id, {History: currentPrices});\r\n    }\r\n}\r\n\r\nexport default new LocalDB();","import { AuthenticationContext } from \"@axa-fr/react-oidc-context\";\r\nimport { User } from \"oidc-client\";\r\nimport React from \"react\";\r\nimport Scrollbar from \"react-scrollbars-custom\";\r\nimport ItemComparisonSlot from \"../components/ItemComparisonSlot\";\r\nimport ListSortingBar from \"../components/ListSortingBar\";\r\nimport SortingBar from \"../components/SortingBar\";\r\nimport { HistoryItemQuery } from \"../dataContracts/HistoryItemQuery\";\r\nimport { PricedItem } from \"../dataContracts/PricedItem\";\r\nimport ApiService from \"../services/ApiService\";\r\nimport LocalDB from \"../services/LocalDB\";\r\nimport { HistoryTimespan } from \"../utils/HistoryTimespan\";\r\n\r\nexport type MyListProps = {\r\n    listId: string;\r\n}\r\n\r\nexport type MyListState = {\r\n    id: string,\r\n    user: User | undefined;\r\n    items: PricedItem[];\r\n    timespan: HistoryTimespan;\r\n}\r\n\r\nexport default class MyList extends React.Component<MyListProps, MyListState> {\r\n    constructor(props: MyListProps) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            id: \"\",\r\n            user: undefined,\r\n            /*[19721, 46736, 46738, 46739, 72224, 9576, 24277, 67015],*/\r\n            items: [],\r\n            timespan: HistoryTimespan.OneWeek\r\n        };\r\n\r\n        this.updateId = this.updateId.bind(this);\r\n        this.setTimespan = this.setTimespan.bind(this);\r\n        this.getItems = this.getItems.bind(this);\r\n        this.deleteItem = this.deleteItem.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.updateId();\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        this.updateId();\r\n    }\r\n\r\n    updateId() {\r\n        const { listId } = this.props;\r\n        const { id, timespan } = this.state;\r\n        if (id !== listId)\r\n            this.setState({id: listId}, () => {\r\n                this.setTimespan(timespan);\r\n            });\r\n    }\r\n\r\n    async setTimespan(timespan: HistoryTimespan) {\r\n        const items = await this.getItems(timespan);\r\n        this.setState({items, timespan});\r\n    }\r\n\r\n    async getItems(timespan: HistoryTimespan): Promise<PricedItem[]> {\r\n        const { user, id } = this.state;\r\n\r\n        if (!user)\r\n            return [];\r\n\r\n        const ids = await ApiService.GetItemList(user.access_token, id);\r\n        if (!ids)\r\n            return [];\r\n\r\n        const historyItemQueries: HistoryItemQuery[] = [];\r\n        for (var i = 0; i < ids.length; i++) {\r\n            const id = ids[i];\r\n            const newest = await LocalDB.getNewestTime(id);\r\n            historyItemQueries.push(new HistoryItemQuery(id, newest));\r\n        }\r\n\r\n        const historyItems = await ApiService.GetHistoryItems(user.access_token, historyItemQueries);\r\n        if (!historyItems)\r\n            return [];\r\n\r\n        const pricedItems: PricedItem[] = [];\r\n        for (var i = 0; i < historyItems.length; i++) {\r\n            const item = historyItems[i];\r\n            await LocalDB.deleteOldPrices(item.Id);\r\n            await LocalDB.setHistoryItemPrices(item.Id, item.History);\r\n\r\n            const prices = await LocalDB.getHistoryItemPrices(item.Id, timespan);\r\n            if (!prices || prices.length <= 0) {\r\n                const pricedItem: PricedItem = {\r\n                    Id: item.Id,\r\n                    ChatLink: item.ChatLink,\r\n                    Name: item.Name,\r\n                    Icon: item.Icon,\r\n                    Description: item.Description,\r\n                    Type: item.Type,\r\n                    Rarity: item.Rarity,\r\n                    Level: item.Level,\r\n                \r\n                    BuyPrice: 0,\r\n                    SellPrice: 0,\r\n                    Appeal: 0,\r\n                    Margin: 0,\r\n                    Sold: 0,\r\n                    Bought: 0\r\n                };\r\n                pricedItems.push(pricedItem);\r\n\r\n                continue;\r\n            }\r\n            \r\n            const newestPrice = prices[0];\r\n            const buyPrice = newestPrice.buyPrice;\r\n            const sellPrice = newestPrice.sellPrice;\r\n            const margin = (sellPrice - buyPrice) / sellPrice * 100;\r\n            let sumSold: number = 0;\r\n            let sumBought: number = 0;\r\n            prices.forEach(price => {\r\n                sumSold += price.sold;\r\n                sumBought += price.bought;\r\n            });\r\n\r\n            const avgSold = sumSold / prices.length;\r\n            const avgBought = sumBought / prices.length;\r\n\r\n            const appeal = margin > 15 ? margin * avgSold * avgBought : 0;\r\n\r\n            const pricedItem: PricedItem = {\r\n                Id: item.Id,\r\n                ChatLink: item.ChatLink,\r\n                Name: item.Name,\r\n                Icon: item.Icon,\r\n                Description: item.Description,\r\n                Type: item.Type,\r\n                Rarity: item.Rarity,\r\n                Level: item.Level,\r\n            \r\n                BuyPrice: buyPrice,\r\n                SellPrice: sellPrice,\r\n                Appeal: appeal,\r\n                Margin: margin,\r\n                Sold: avgSold,\r\n                Bought: avgBought\r\n            };\r\n\r\n            pricedItems.push(pricedItem);\r\n        }\r\n\r\n        return pricedItems;\r\n    }\r\n\r\n    async deleteItem(itemId: number) {\r\n        const { id, user, items } = this.state;\r\n        if (!user)\r\n            return;\r\n\r\n        const result = await ApiService.DeleteListItem(user.access_token, id, itemId);\r\n        const tempItems = [...items];\r\n        if (result) {\r\n            const itemIndex = tempItems.findIndex(item => item.Id === itemId);\r\n            tempItems.splice(itemIndex, 1);\r\n            this.setState({items: tempItems});\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const { listId } = this.props;\r\n        const { user, items, timespan } = this.state;\r\n\r\n        return (\r\n            <div className=\"main w-full px-4 py-4 bg-gray-800\">\r\n                <AuthenticationContext.Consumer>\r\n                    {props => {\r\n                        if (props.oidcUser != null && !this.state.user)\r\n                            this.setState({user: props.oidcUser});\r\n                            \r\n                        if (user) {\r\n                            return(\r\n                                <ListSortingBar items={items} name=\"Tracked Items\">\r\n                                    {sortedItems => (\r\n                                        <Scrollbar noScrollX style={{height: \"calc(100vh - 11rem)\"}}>\r\n                                            {sortedItems.map((value, index) => (\r\n                                                <div key={index} className=\"mb-2\">\r\n                                                    <ItemComparisonSlot item={value} deleteItem={this.deleteItem} />\r\n                                                </div>\r\n                                            ))}\r\n                                        </Scrollbar>\r\n                                    )}\r\n                                </ListSortingBar>\r\n                            );\r\n                        }\r\n\r\n                        return(<></>);\r\n                    }}\r\n                </AuthenticationContext.Consumer>\r\n                \r\n                {/*\r\n                <ItemComparisonSlot item={{ Id: 19721, Name: \"Glob of Ectoplasm\", Icon: \"https://render.guildwars2.com/file/18CE5D78317265000CF3C23ED76AB3CEE86BA60E/65941.png\", BuyPrice: 2022, SellPrice: 2232, Fee: Math.ceil(2232 * 0.15), AppealValue: 0, Margin: 0, TransactionRate: 0 }} />\r\n                <div className=\"block\">\r\n                    <div id=\"head\" className=\"\">\r\n                        <div className=\"flex flex-row flex-wrap\">\r\n                            <div className=\"font-bold\">Name</div>\r\n                            <div className=\"font-bold\">Buys</div>\r\n                        </div>\r\n                    </div>\r\n                    <div id=\"body\" className=\"\">\r\n\r\n                    </div>\r\n                </div>\r\n                */}\r\n\r\n                {/*\r\n                <table className=\"table-fixed w-full\">\r\n                    <thead>\r\n                        <tr>\r\n                            <th className=\"w-2/8\">Name</th>\r\n                            <th className=\"w-1/8\">Buys</th>\r\n                            <th className=\"w-1/8\">Sells</th>\r\n                            <th className=\"w-1/8\">Fee</th>\r\n                            <th className=\"w-1/8\">Appeal</th>\r\n                            <th className=\"w-1/8\">Margin</th>\r\n                            <th className=\"w-1/8\">Transaction Rate</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        <ItemComparisonSlot item={{ Id: 19721, Name: \"Glob of Ectoplasm\", Icon: \"https://render.guildwars2.com/file/18CE5D78317265000CF3C23ED76AB3CEE86BA60E/65941.png\", BuyPrice: 2022, SellPrice: 2232, Fee: Math.ceil(2232 * 0.15), AppealValue: 0, Margin: 0, TransactionRate: 0 }} />\r\n                    </tbody>\r\n                </table>\r\n                */}\r\n            </div>\r\n        );\r\n    }\r\n}","import React from \"react\";\r\n\r\nexport default class Dashboard extends React.Component {\r\n    render() {\r\n        return(\r\n            <div className=\"w-full bg-gray-800 text-gray-200\"></div>\r\n        );\r\n    }\r\n}","import { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport React from \"react\";\r\nimport Scrollbar from \"react-scrollbars-custom\";\r\nimport { PricedItem } from \"../dataContracts/PricedItem\";\r\nimport Price from \"./Price\";\r\n\r\nexport type ItemSummarySlotProps = {\r\n    item: PricedItem;\r\n    accessToken: string;\r\n}\r\n\r\nexport type ItemSummarySlotState = {\r\n    isDragging: boolean;\r\n    isAdding: boolean;\r\n}\r\n\r\nexport default class ItemSummarySlot extends React.Component<ItemSummarySlotProps, ItemSummarySlotState> {\r\n    constructor(props: ItemSummarySlotProps) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            isDragging: false,\r\n            isAdding: false\r\n        };\r\n\r\n        this.onDragStart = this.onDragStart.bind(this);\r\n        this.onDragEnd = this.onDragEnd.bind(this);\r\n        this.onAdd = this.onAdd.bind(this);\r\n    }\r\n\r\n    onDragStart(event: React.DragEvent<HTMLDivElement>) {\r\n        event.stopPropagation();\r\n        event.dataTransfer.setData(\"text\", this.props.item.Id.toString());\r\n        this.setState({isDragging: true});\r\n    }\r\n\r\n    onDragEnd(event: React.DragEvent<HTMLDivElement>) {\r\n        this.setState({isDragging: false});\r\n    }\r\n\r\n    onAdd() {\r\n        this.setState(prevState => ({isAdding: !prevState.isAdding}));\r\n    }\r\n\r\n    render() {\r\n        const { item } = this.props;\r\n        const { isDragging, isAdding } = this.state;\r\n\r\n        return(\r\n            <div className=\"flex flex-row px-4 py-2 bg-gray-700\">\r\n                <div className=\"flex flex-row w-3/12 items-center mr-6\">\r\n                    <img src={item.Icon} alt={item.Name} className=\"mr-4 w-12 h-12\"/>\r\n                    <span className=\"italic text-gray-200\">{item.Name}</span>\r\n                </div>\r\n                <div className=\"flex flex-col w-2/12 items-center\">\r\n                    <label htmlFor=\"\" className=\"text-sm mb-1 font-bold text-gray-500\">Buys</label>\r\n                    <Price price={item.BuyPrice} />\r\n                </div>\r\n                <div className=\"flex flex-col w-2/12 items-center\">\r\n                    <label htmlFor=\"\" className=\"text-sm mb-1 font-bold text-gray-500\">Sells</label>\r\n                    <Price price={item.SellPrice} />\r\n                </div>\r\n                <div className=\"flex flex-col w-1/12 items-center\">\r\n                    <label htmlFor=\"\" className=\"text-sm mb-1 font-bold text-gray-500\">Margin</label>\r\n                    <span className={`${item.Margin > 15 ? \"text-green-500\" : \"text-red-500\"}`}>{item.Margin}%</span>\r\n                </div>\r\n                <div className=\"flex flex-col w-1/12 items-center\">\r\n                    <label htmlFor=\"\" className=\"text-sm mb-1 font-bold text-gray-500\">Sold</label>\r\n                    <span className=\"\">{item.Sold}</span>\r\n                </div>\r\n                <div className=\"flex flex-col w-1/12 items-center\">\r\n                    <label htmlFor=\"\" className=\"text-sm mb-1 font-bold text-gray-500\">Bought</label>\r\n                    <span className=\"\">{item.Bought}</span>\r\n                </div>\r\n                <div className=\"flex flex-col w-1/12 items-center\">\r\n                    <label htmlFor=\"\" className=\"text-sm mb-1 font-bold text-gray-500\">Appeal</label>\r\n                    <span className=\"\">{item.Appeal}</span>\r\n                </div>\r\n                <div className=\"flex flex-row w-1/12 items-center justify-center\">\r\n                    <div className=\"relative px-2 py-1 mr-3 rounded shadow-lg bg-gray-800 text-gray-300 cursor-move\"\r\n                        draggable\r\n                        onDragStart={this.onDragStart}\r\n                        onDragEnd={this.onDragEnd}>\r\n                        <FontAwesomeIcon icon=\"arrows-alt\" />\r\n                        <div className={`${isDragging ? \"hide\" : \"hidden\"} absolute flex flex-row items-center justify-center w-32 h-12 rounded bg-gray-800`} style={{top: \"-0.25rem\", left: \"-2.75rem\"}}>\r\n                            <img src={item.Icon} alt={item.Name} className=\"mr-4 w-8 h-8 select-none\"/>\r\n                            <span className=\"italic text-sm text-gray-300 select-none\">{item.Name}</span>\r\n                        </div>\r\n                    </div>\r\n                    {/*\r\n                    <div className=\"relative\">\r\n                        <button className=\"transition duration-150 ease-in-out px-3 py-2 rounded shadow-lg bg-green-700 text-green-300 hover:bg-green-800 hover:text-green-200\"\r\n                            onClick={this.onAdd}>\r\n                            <FontAwesomeIcon icon=\"plus\" />\r\n                        </button>\r\n                        <div className={`${isAdding ? \"\" : \"hidden\"} arrow-up absolute flex flex-col justify-center w-24 rounded bg-gray-900 text-gray-300`} style={{height: \"5.45rem\", top: \"3.25rem\", left: \"-1.875rem\"}}>\r\n                            <Scrollbar noScrollX>\r\n                                <div className=\"transition duration-150 ease-in-out px-2 py-1 text-sm rounded truncate hover:shadow-lg hover:bg-gray-600 select-none cursor-pointer\"\r\n                                    tabIndex={0}>\r\n                                    Testasdfasdfasdf\r\n                                </div>\r\n                                <div className=\"transition duration-150 ease-in-out px-2 py-1 text-sm rounded truncate hover:shadow-lg hover:bg-gray-600 select-none cursor-pointer\"\r\n                                    tabIndex={0}>\r\n                                    Testasdfasdfasdf\r\n                                </div>\r\n                                <div className=\"transition duration-150 ease-in-out px-2 py-1 text-sm rounded truncate hover:shadow-lg hover:bg-gray-600 select-none cursor-pointer\"\r\n                                    tabIndex={0}>\r\n                                    Test\r\n                                </div>\r\n                                <div className=\"transition duration-150 ease-in-out px-2 py-1 text-sm rounded truncate hover:shadow-lg hover:bg-gray-600 select-none cursor-pointer\"\r\n                                    tabIndex={0}>\r\n                                    Test\r\n                                </div>\r\n                            </Scrollbar>\r\n                        </div>\r\n                    </div>\r\n                    */}\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}","import { ItemField, ItemFieldSort } from \"../utils/ItemField\";\r\nimport { ItemRarity } from \"../utils/ItemRarity\";\r\nimport { ItemType } from \"../utils/ItemType\";\r\n\r\nexport class ItemQuery {\r\n    public name: string;\r\n    public type: ItemType;\r\n    public rarity: ItemRarity;\r\n    public minLevel: number;\r\n    public maxLevel: number;\r\n    public minBuyPrice: number;\r\n    public maxBuyPrice: number;\r\n    public minSellPrice: number;\r\n    public maxSellPrice: number;\r\n    public sortBy: ItemField;\r\n    public sortDirection: ItemFieldSort;\r\n\r\n    constructor(options?: ItemQueryOptions) {\r\n        this.name = options?.name ?? \"\";\r\n        this.type = options?.type ?? ItemType.All;\r\n        this.rarity = options?.rarity ?? ItemRarity.All;\r\n        this.minLevel = options?.minLevel ?? 0;\r\n        this.maxLevel = options?.maxLevel ?? 80;\r\n        this.minBuyPrice = options?.minBuyPrice ?? 0;\r\n        this.maxBuyPrice = options?.maxBuyPrice ?? 100000000;\r\n        this.minSellPrice = options?.minSellPrice ?? 10000;\r\n        this.maxSellPrice = options?.maxSellPrice ?? 100000000;\r\n        this.sortBy = options?.sortBy ?? ItemField.Appeal;\r\n        this.sortDirection = options?.sortDirection ?? ItemFieldSort.Descending;\r\n    }\r\n\r\n    toObject(): { [key: string]: string } {\r\n        return {\r\n            name: this.name,\r\n            type: this.type.valueOf().toString(),\r\n            rarity: this.rarity.valueOf().toString(),\r\n            minLevel: this.minLevel.toString(),\r\n            maxLevel: this.maxLevel.toString(),\r\n            minBuyPrice: this.minBuyPrice.toString(),\r\n            maxBuyPrice: this.maxBuyPrice.toString(),\r\n            minSellPrice: this.minSellPrice.toString(),\r\n            maxSellPrice: this.maxSellPrice.toString(),\r\n            sortBy: this.sortBy.valueOf().toString(),\r\n            sortDirection: this.sortDirection.valueOf().toString()\r\n        };\r\n    }\r\n}\r\n\r\nexport interface ItemQueryOptions {\r\n    name?: string;\r\n    type?: ItemType;\r\n    rarity?: ItemRarity;\r\n    minLevel?: number;\r\n    maxLevel?: number;\r\n    minBuyPrice?: number;\r\n    maxBuyPrice?: number;\r\n    minSellPrice?: number;\r\n    maxSellPrice?: number;\r\n    sortBy?: ItemField;\r\n    sortDirection?: ItemFieldSort;\r\n}","import { AuthenticationContext } from \"@axa-fr/react-oidc-context\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { User } from \"oidc-client\";\r\nimport React from \"react\";\r\nimport { ItemQuery, ItemQueryOptions } from \"../dataContracts/ItemQuery\";\r\nimport { PricedItem } from \"../dataContracts/PricedItem\";\r\nimport ApiService from \"../services/ApiService\";\r\nimport { ItemField, ItemFieldSort } from \"../utils/ItemField\";\r\n\r\nexport type SortingBarProps = {\r\n    name: string;\r\n    children?: (sortedItems: PricedItem[]) => React.ReactNode | null;\r\n}\r\n\r\nexport type SortingBarState = {\r\n    user: User | undefined;\r\n    items: PricedItem[];\r\n    sortBy: ItemField;\r\n    sortDirection: ItemFieldSort;\r\n    searchStr: string;\r\n}\r\n\r\nexport default class SortingBar extends React.Component<SortingBarProps, SortingBarState> {\r\n    constructor(props: SortingBarProps) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            user: undefined,\r\n            items: [],\r\n            sortBy: ItemField.Appeal,\r\n            sortDirection: ItemFieldSort.Descending,\r\n            searchStr: \"\"\r\n        };\r\n\r\n        this.updateItems = this.updateItems.bind(this);\r\n        this.onSearch = this.onSearch.bind(this);\r\n        this.onSort = this.onSort.bind(this);\r\n        this.onSortDirection = this.onSortDirection.bind(this);\r\n        this.getItems = this.getItems.bind(this);\r\n    }\r\n\r\n    private async updateItems() {\r\n        var items = await this.getItems();\r\n        if (items == null)\r\n            return;\r\n\r\n        this.setState({items});\r\n    }\r\n\r\n    private async onSearch(event: React.FormEvent<HTMLFormElement>) {\r\n        event.preventDefault();\r\n        const { searchStr } = this.state;\r\n\r\n        const items = await this.getItems({name: searchStr});\r\n        if (items == null)\r\n            return;\r\n\r\n        this.setState({items});\r\n    }\r\n\r\n    private async onSort(event: React.ChangeEvent<HTMLSelectElement>) {\r\n        console.log(event.target.value);\r\n        console.log(event.target.value as keyof typeof ItemField);\r\n        const value: ItemField = parseInt(event.target.value) as ItemField;\r\n\r\n        const items = await this.getItems({sortBy: value});\r\n        if (items == null)\r\n            return;\r\n\r\n        this.setState({sortBy: value, items: items});\r\n    }\r\n\r\n    private async onSortDirection() {\r\n        const { sortDirection } = this.state;\r\n        const newDirection: ItemFieldSort = sortDirection === ItemFieldSort.Ascending ? ItemFieldSort.Descending : ItemFieldSort.Ascending;\r\n\r\n        const items = await this.getItems({sortDirection: newDirection});\r\n        if (items == null)\r\n            return;\r\n\r\n        this.setState({sortDirection: newDirection, items: items});\r\n    }\r\n\r\n    private async getItems(options?: ItemQueryOptions): Promise<PricedItem[] | null> {\r\n        const { user, searchStr, sortBy, sortDirection } = this.state;\r\n\r\n        const optionValues: ItemQueryOptions = {\r\n            name: options?.name ?? searchStr,\r\n            sortBy: options?.sortBy ?? sortBy,\r\n            sortDirection: options?.sortDirection ?? sortDirection\r\n        };\r\n\r\n        if (!user)\r\n            return null;\r\n\r\n        return await ApiService.GetItems(user.access_token, new ItemQuery(optionValues), 1);\r\n    }\r\n\r\n    render() {\r\n        const { name, children } = this.props;\r\n        const { items, sortBy, sortDirection, searchStr } = this.state;\r\n\r\n        const isSortAscending: boolean = sortDirection === ItemFieldSort.Ascending;\r\n\r\n        return(\r\n            <>\r\n                <div className=\"flex flex-row justify-between items-center px-4 py-2 mb-4 bg-gray-900 text-gray-500\">\r\n                    <AuthenticationContext.Consumer>\r\n                        {props => {\r\n                            if (props.oidcUser != null && !this.state.user)\r\n                                this.setState({user: props.oidcUser}, () => this.updateItems());\r\n\r\n                            return(\r\n                                <></>\r\n                            );\r\n                        }}\r\n                    </AuthenticationContext.Consumer>\r\n                    <span className=\"\">{name}</span>\r\n                    <div className=\"flex items-center\">\r\n                        <form className=\"flex flex-row mr-4\"\r\n                            onSubmit={this.onSearch}>\r\n                            <input type=\"text\" className=\"pl-2 rounded-l bg-gray-600 text-gray-200\"\r\n                                value={searchStr}\r\n                                onChange={event => this.setState({searchStr: event.target.value})} />\r\n                            <button className=\"flex items-center px-2 rounded-r bg-gray-700 text-gray-300\">\r\n                                <FontAwesomeIcon icon=\"search\" className=\"mr-1 text-xs\" />\r\n                                <span className=\"text-xs\">Search</span>\r\n                            </button>\r\n                        </form>\r\n                        <label htmlFor=\"\" className=\"mr-2 text-sm\">Sort By</label>\r\n                        <select name=\"\" id=\"\" className=\"pl-2 rounded-l h-6 text-sm bg-gray-700 text-gray-300\" \r\n                            value={sortBy} \r\n                            onChange={this.onSort}>\r\n                            <option value={ItemField.Name} className=\"\">{ItemField[ItemField.Name]}</option>\r\n                            <option value={ItemField.Buys} className=\"\">{ItemField[ItemField.Buys]}</option>\r\n                            <option value={ItemField.Sells} className=\"\">{ItemField[ItemField.Sells]}</option>\r\n                            <option value={ItemField.Appeal} className=\"\">{ItemField[ItemField.Appeal]}</option>\r\n                            <option value={ItemField.Margin} className=\"\">{ItemField[ItemField.Margin]}</option>\r\n                            <option value={ItemField.Sold} className=\"\">{ItemField[ItemField.Sold]}</option>\r\n                            <option value={ItemField.Bought} className=\"\">{ItemField[ItemField.Bought]}</option>\r\n                        </select>\r\n                        <button className=\"px-2 mr-4 rounded-r border-l border-gray-800 bg-gray-700 text-gray-300\"\r\n                            onClick={this.onSortDirection}>\r\n                            {(isSortAscending && sortBy !== ItemField.Name &&\r\n                                <FontAwesomeIcon icon=\"sort-numeric-up\" />\r\n                            ) ||\r\n                            (!isSortAscending && sortBy !== ItemField.Name &&\r\n                                <FontAwesomeIcon icon=\"sort-numeric-down-alt\" />\r\n                            ) ||\r\n                            (isSortAscending && sortBy === ItemField.Name &&\r\n                                <FontAwesomeIcon icon=\"sort-alpha-up\" />\r\n                            ) ||\r\n                            (!isSortAscending && sortBy === ItemField.Name &&\r\n                                <FontAwesomeIcon icon=\"sort-alpha-down-alt\" />\r\n                            )}\r\n                        </button>\r\n                        <button className=\"flex items-center rounded bg-gray-700 text-gray-300\" style={{padding: \"0.20rem 0.5rem\"}}>\r\n                            <FontAwesomeIcon icon=\"filter\" className=\"mr-1 text-xs\" />\r\n                            <span className=\"text-xs\">Filter</span>\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n                {children != null ? children(items): null}\r\n            </>\r\n        );\r\n    }\r\n}","import { AuthenticationContext } from \"@axa-fr/react-oidc-context\";\r\nimport { User } from \"oidc-client\";\r\nimport React from \"react\";\r\nimport Scrollbar from \"react-scrollbars-custom\";\r\nimport ItemSummarySlot from \"../components/ItemSummarySlot\";\r\nimport SortingBar from \"../components/SortingBar\";\r\nimport { PricedItem } from \"../dataContracts/PricedItem\";\r\nimport { ItemRarity } from \"../utils/ItemRarity\";\r\nimport { ItemType } from \"../utils/ItemType\";\r\n\r\nexport type GeneralSearchProps = {\r\n\r\n}\r\n\r\nexport type GeneralSearchState = {\r\n    user: User | undefined;\r\n}\r\n\r\nexport default class GeneralSearch extends React.Component<GeneralSearchProps, GeneralSearchState> {\r\n    constructor(props: GeneralSearchProps) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            user: undefined\r\n        };\r\n    }\r\n\r\n    render() {\r\n        const { user } = this.state;\r\n\r\n        const item: PricedItem = {\r\n            Id: 27328,\r\n            ChatLink: \"\",\r\n            Name: \"Ebonblade\",\r\n            Description: \"\",\r\n            Icon: \"https://render.guildwars2.com/file/F7B7ECFA56A55434245E4D311516A2C7771204B4/780577.png\",\r\n            Type: ItemType.Weapon,\r\n            Rarity: ItemRarity.Exotic,\r\n            Level: 0,\r\n            Sold: 0,\r\n            Bought: 0,\r\n            Margin: 0,\r\n            Appeal: 0,\r\n            BuyPrice: 0,\r\n            SellPrice: 0\r\n        };\r\n\r\n        return(\r\n            <div className=\"main w-full px-4 py-4 bg-gray-800 text-gray-200\">\r\n                <AuthenticationContext.Consumer>\r\n                    {props => {\r\n                        if (props.oidcUser != null && !this.state.user)\r\n                            this.setState({user: props.oidcUser});\r\n\r\n                        if (user) {\r\n                            return(\r\n                                <SortingBar name=\"Results\">\r\n                                    {sortedItems => (\r\n                                        <Scrollbar noScrollX style={{height: \"calc(100vh - 11rem)\"}}>\r\n                                            {sortedItems.map((value, index) => (\r\n                                                <div key={index} className=\"mb-2\">\r\n                                                    <ItemSummarySlot item={value} accessToken={user.access_token} />\r\n                                                </div>\r\n                                            ))}\r\n                                        </Scrollbar>\r\n                                    )}\r\n                                </SortingBar>\r\n                            );\r\n                        }\r\n\r\n                        return(<></>);\r\n                    }}\r\n                </AuthenticationContext.Consumer>\r\n            </div>\r\n        );\r\n    }\r\n}","import environment from \"./environment\";\r\n\r\nconst configuration = {\r\n    client_id: \"gw2_calculator_app\",\r\n    response_type: \"id_token token\",\r\n    scope: \"openid email roles profile gw2calculator\",\r\n    automaticSilentRenew: true,\r\n    loadUserInfo: true,\r\n    authority: environment.urls.authority,\r\n    redirect_uri: `${environment.urls.host}/authentication/callback`,\r\n    post_logout_redirect_uri: `${environment.urls.host}/`,\r\n    silent_redirect_uri: `${environment.urls.host}/authentication/silent_callback`\r\n};\r\n\r\nexport default configuration;","import { AuthenticationContext } from \"@axa-fr/react-oidc-context\";\r\nimport React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nexport default class Header extends React.Component {\r\n    render() {\r\n        return(\r\n            <header className=\"\" style={{boxShadow: \"0 10px 15px -3px rgba(0, 0, 0, 0.2)\", zIndex: 100}}>\r\n                <AuthenticationContext.Consumer>\r\n                    {props => {\r\n                        return(\r\n                            <div className=\"flex justify-between items-center px-4 bg-indigo-700 text-indigo-200\">\r\n                                <div className=\"flex flex-row items-center\">\r\n                                    <Link className=\"transition duration-150 ease-in-out mr-6 text-lg font-bold hover:text-indigo-100\"\r\n                                        to=\"/\">\r\n                                        GW2 Calculator\r\n                                    </Link>\r\n                                    <Link className=\"transition duration-150 ease-in-out mr-3 py-5 px-2 hover:bg-indigo-600 hover:text-indigo-100\"\r\n                                        to=\"/\">\r\n                                        Dashboard\r\n                                    </Link>\r\n                                    <Link className=\"transition duration-150 ease-in-out mr-3 py-5 px-2 hover:bg-indigo-600 hover:text-indigo-100\"\r\n                                        to=\"/search\">\r\n                                        Search\r\n                                    </Link>\r\n                                    <Link className=\"transition duration-150 ease-in-out mr-3 py-5 px-2 hover:bg-indigo-600 hover:text-indigo-100\"\r\n                                        to=\"/list\">\r\n                                        My List\r\n                                    </Link>\r\n                                </div>\r\n\r\n                                {props.oidcUser && (\r\n                                    <div className=\"\">\r\n                                        <span className=\"mr-4\">Hello, {props.oidcUser.profile.name}!</span>\r\n                                        <button className=\"transition duration-150 ease-in-out px-4 py-1 bg-indigo-800 hover:shadow-lg hover:bg-indigo-900 hover:text-indigo-100\"\r\n                                            onClick={() => props.logout()}>\r\n                                            Logout\r\n                                        </button>\r\n                                    </div>\r\n                                ) ||\r\n                                (!props.oidcUser && (\r\n                                    <div className=\"\">\r\n                                        <button className=\"transition duration-150 ease-in-out px-4 py-1 bg-indigo-800 hover:shadow-lg hover:bg-indigo-900 hover:text-indigo-100\"\r\n                                            onClick={() => props.login()}>\r\n                                            Login\r\n                                        </button>\r\n                                    </div>\r\n                                ))}\r\n                            </div>\r\n                        );\r\n                    }}\r\n                </AuthenticationContext.Consumer>\r\n            </header>\r\n        );\r\n    }\r\n}","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { ItemList } from \"../dataContracts/ItemList\";\r\nimport environment from \"../environment\";\r\nimport ApiService from \"../services/ApiService\";\r\n\r\nexport type ItemListSlotProps = {\r\n    itemList: ItemList;\r\n    accessToken: string;\r\n}\r\n\r\nexport type ItemListSlotState = {\r\n    isHover: boolean;\r\n}\r\n\r\nexport default class ItemListSlot extends React.Component<ItemListSlotProps, ItemListSlotState> {\r\n    constructor(props: ItemListSlotProps) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            isHover: false\r\n        };\r\n\r\n        this.onDragEnter = this.onDragEnter.bind(this);\r\n        this.onDragLeave = this.onDragLeave.bind(this);\r\n        this.onDrop = this.onDrop.bind(this);\r\n    }\r\n\r\n    async onDragEnter(event: React.DragEvent<HTMLAnchorElement>) {\r\n        event.preventDefault();\r\n        this.setState({isHover: true});\r\n    }\r\n\r\n    async onDragLeave(event: React.DragEvent<HTMLAnchorElement>) {\r\n        event.preventDefault();\r\n        this.setState({isHover: false});\r\n    }\r\n\r\n    async onDrop(event: React.DragEvent<HTMLAnchorElement>) {\r\n        event.preventDefault();\r\n        const { itemList, accessToken } = this.props;\r\n        const itemId = parseInt(event.dataTransfer.getData(\"text\"));\r\n        await ApiService.AddListItem(accessToken, itemList.id, itemId);\r\n        this.setState({isHover: false});\r\n    }\r\n\r\n    render() {\r\n        const { itemList } = this.props;\r\n        const { isHover } = this.state;\r\n\r\n        return(\r\n            <Link className={`transition duration-150 ease-in-out block px-5 py-3 bg-opacity-25 ${isHover ? \"bg-green-700 text-green-300\" : \"bg-indigo-700 text-indigo-300\"}  hover:bg-opacity-100 hover:text-indigo-200 cursor-pointer`}\r\n                to={`/list/${itemList.id}`}\r\n                onDragEnter={this.onDragEnter}\r\n                onDragOver={event => event.preventDefault()}\r\n                onDragLeave={this.onDragLeave}\r\n                onDrop={this.onDrop}>\r\n                <span className=\"pointer-events-none select-none\">{itemList.name}</span>\r\n            </Link>\r\n        );\r\n    }\r\n}","import { AuthenticationContext } from \"@axa-fr/react-oidc-context\";\r\nimport { User } from \"oidc-client\";\r\nimport React from \"react\";\r\nimport Scrollbar from \"react-scrollbars-custom\";\r\nimport { ItemList } from \"../dataContracts/ItemList\";\r\nimport ApiService from \"../services/ApiService\";\r\nimport ItemListSlot from \"./ItemListSlot\";\r\n\r\nexport type SidebarProps = {\r\n\r\n}\r\n\r\nexport type SidebarState = {\r\n    user: User | undefined;\r\n    itemLists: ItemList[];\r\n}\r\n\r\nexport default class Sidebar extends React.Component<SidebarProps, SidebarState> {\r\n    constructor(props: SidebarProps) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            user: undefined,\r\n            itemLists: []\r\n        };\r\n\r\n        this.refreshItemLists = this.refreshItemLists.bind(this);\r\n    }\r\n\r\n    async refreshItemLists() {\r\n        const { user } = this.state;\r\n        if (!user)\r\n            return;\r\n\r\n        const itemLists = await ApiService.GetItemLists(user.access_token);\r\n        if (!itemLists)\r\n            return;\r\n\r\n        this.setState({itemLists});\r\n    }\r\n\r\n    render() {\r\n        const { itemLists, user } = this.state;\r\n\r\n        return(\r\n            <div className=\"sidebar hidden py-4 xl:flex xl:w-1/4 bg-gray-900\" style={{width: \"16rem\"}}>\r\n                <AuthenticationContext.Consumer>\r\n                    {props => {\r\n                        if (props.oidcUser != null && !this.state.user)\r\n                            this.setState({user: props.oidcUser}, () => {\r\n                                this.refreshItemLists();\r\n                            });\r\n\r\n                        return(\r\n                            <Scrollbar noScrollX>\r\n                                {itemLists.map((itemList, index) => (\r\n                                    <div key={index} className=\"mb-2\">\r\n                                        <ItemListSlot itemList={itemList} accessToken={user?.access_token ?? \"\"} />\r\n                                    </div>\r\n                                ))}\r\n                            </Scrollbar>\r\n                        );\r\n                    }}\r\n                </AuthenticationContext.Consumer>\r\n            </div>\r\n        );\r\n    }\r\n}","import React from \"react\";\r\nimport logo from \"./logo.svg\";\r\nimport \"./App.css\";\r\nimport \"./assets/main.css\";\r\nimport MyList from \"./pages/MyList\";\r\nimport Dashboard from \"./pages/Dashboard\";\r\nimport GeneralSearch from \"./pages/GeneralSearch\";\r\nimport { BrowserRouter, Redirect, Route, Switch, useParams } from \"react-router-dom\";\r\nimport { AuthenticationProvider, withOidcSecure } from \"@axa-fr/react-oidc-context\";\r\nimport configuration from \"./open-id-config\";\r\nimport Header from \"./components/Header\";\r\nimport { config } from \"process\";\r\nimport Sidebar from \"./components/Sidebar\";\r\n\r\nimport { library } from \"@fortawesome/fontawesome-svg-core\";\r\nimport { fas } from \"@fortawesome/free-solid-svg-icons\";\r\n\r\nlibrary.add(fas);\r\n\r\nfunction App() {\r\n    const afterLogin = () => (\r\n        <div className=\"flex justify-center items-center w-screen h-screen bg-gray-700 text-gray-100\">\r\n            <div className=\"flex flex-row items-center\">\r\n                <img src={logo} alt=\"logo\" className=\"App-logo w-12\" />\r\n                <span className=\"\">Logging in...</span>\r\n            </div>\r\n        </div>\r\n    );\r\n\r\n    const afterLogout = () => (\r\n        <div className=\"flex justify-center items-center w-screen h-screen bg-gray-700 text-gray-100\">\r\n            <div className=\"flex flex-row items-center\">\r\n                <img src={logo} alt=\"logo\" className=\"App-logo w-12\" />\r\n                <span className=\"\">Logging out...</span>\r\n            </div>\r\n        </div>\r\n    );\r\n\r\n    return(\r\n        <div className=\"flex flex-col\">\r\n            <BrowserRouter>\r\n                <AuthenticationProvider configuration={configuration}\r\n                    callbackComponentOverride={afterLogin}\r\n                    authenticating={afterLogout}>\r\n                    <Header />\r\n                    <Redirect path=\"/authentication/callback\" to=\"/\" />\r\n                    <div className=\"flex flex-row\" style={{height: \"calc(100vh - 4rem)\"}}>\r\n                        <Switch>\r\n                            <Route exact path=\"/\" component={Dashboard} />\r\n                            <Route path=\"/search\" component={GeneralSearch} />\r\n                            <Route path=\"/list/:id\" component={MyListComponent} />\r\n                        </Switch>\r\n                        <Sidebar />\r\n                    </div>\r\n                </AuthenticationProvider>\r\n            </BrowserRouter>\r\n        </div>\r\n    );\r\n}\r\n\r\nfunction MyListComponent() {\r\n    const { id } = useParams();\r\n\r\n    return(\r\n        <MyList listId={id} />\r\n    );\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\ntype Config = {\r\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\r\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\r\n};\r\n\r\nexport function register(config?: Config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(\r\n      process.env.PUBLIC_URL,\r\n      window.location.href\r\n    );\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl: string, config?: Config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' }\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}